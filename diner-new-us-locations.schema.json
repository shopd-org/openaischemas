{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/diner-new-us-locations.schema.json",
  "title": "New US Locations",
  "description": "Array of new US restaurant locations extracted from a brand website.",
  "type": "array",
  "items": {
    "type": "object",
    "additionalProperties": false,
    "required": [
      "address",
      "city",
      "state",
      "zip",
      "location_name",
      "source_url",
      "match_confidence",
      "dedupe_reason"
    ],
    "properties": {
      "address": {
        "type": "string",
        "minLength": 1,
        "description": "Single-line street address including suite/unit if present."
      },
      "city": {
        "type": "string",
        "minLength": 1
      },
      "state": {
        "type": "string",
        "enum": [
          "AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA",
          "HI","ID","IL","IN","IA","KS","KY","LA","ME","MD",
          "MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ",
          "NM","NY","NC","ND","OH","OK","OR","PA","RI","SC",
          "SD","TN","TX","UT","VT","VA","WA","WV","WI","WY",
          "DC","PR"
        ],
        "description": "Two-letter USPS code."
      },
      "zip": {
        "type": "string",
        "pattern": "^[0-9]{5}$",
        "description": "5-digit ZIP; if ZIP+4 was found, only the first 5."
      },
      "location_name": {
        "type": ["string", "null"],
        "description": "Distinctive location identifier without the brand name.",
        "minLength": 1
      },
      "source_url": {
        "type": "string",
        "format": "uri",
        "description": "Canonical URL of the location detail page on the brand site."
      },
      "match_confidence": {
        "type": "number",
        "minimum": 0,
        "maximum": 1
      },
      "dedupe_reason": {
        "type": "string",
        "minLength": 1,
        "description": "Concise explanation of dedupe decision/rationale."
      }
    }
  }
}
