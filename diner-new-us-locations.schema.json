{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://cdn.jsdelivr.net/gh/shopd-org/openaischemas@main/diner-new-us-locations.schema.json",
  "title": "New US Locations",
  "description": "Array of new US restaurant locations extracted from a brand website.",
  "type": "array",
  "items": {
    "type": "object",
    "additionalProperties": false,
    "required": [
      "address",
      "city",
      "state",
      "zip",
      "location_name",
      "source_url",
      "match_confidence",
      "dedupe_reason"
    ],
    "properties": {
      "address": {
        "type": "string",
        "minLength": 1
      },
      "city": {
        "type": "string",
        "minLength": 1
      },
      "state": {
        "type": "string",
        "enum": [
          "AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA",
          "HI","ID","IL","IN","IA","KS","KY","LA","ME","MD",
          "MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ",
          "NM","NY","NC","ND","OH","OK","OR","PA","RI","SC",
          "SD","TN","TX","UT","VT","VA","WA","WV","WI","WY",
          "DC","PR"
        ]
      },
      "zip": {
        "type": "string",
        "pattern": "^[0-9]{5}$"
      },
      "location_name": {
        "oneOf": [
          { "type": "string", "minLength": 1 },
          { "type": "null" }
        ],
        "description": "Distinctive identifier without the brand name."
      },
      "source_url": {
        "type": "string",
        "format": "uri"
      },
      "match_confidence": {
        "type": "number",
        "minimum": 0,
        "maximum": 1
      },
      "dedupe_reason": {
        "type": "string",
        "minLength": 1
      }
    }
  }
}
